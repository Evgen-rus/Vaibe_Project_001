# Руководство по запуску бота "Нейропродажник"

## Шаг 1: Предварительные требования

- Python 3.10 или выше
- Git (опционально, для клонирования репозитория)

## Шаг 2: Настройка проекта

1. Клонируйте репозиторий или распакуйте архив с проектом:
   ```bash
   git clone <url-репозитория>
   cd <директория-проекта>
   ```

2. Создайте и активируйте виртуальное окружение (рекомендуется):
   ```bash
   # Windows
   python -m venv venv
   venv\Scripts\activate

   # Linux/macOS
   python3 -m venv venv
   source venv/bin/activate
   ```

3. Установите зависимости:
   ```bash
   pip install -r requirements.txt
   ```

## Шаг 3: Настройка переменных окружения

1. Создайте файл `.env` в корневой директории проекта со следующим содержимым:
   ```
   # Telegram Bot
   TELEGRAM_BOT_TOKEN=ваш_токен_бота_здесь

   # OpenAI
   OPENAI_API_KEY=ваш_ключ_api_openai_здесь
   OPENAI_MODEL=gpt-4.1-nano

   # Admin IDs (optional)
   ADMIN_IDS=123456789,987654321
   ```

2. Замените:
   - `ваш_токен_бота_здесь` на токен, полученный от @BotFather в Telegram
   - `ваш_ключ_api_openai_здесь` на ваш API-ключ OpenAI
   - `123456789,987654321` на список Telegram ID администраторов (опционально)

## Шаг 4: Запуск бота

Запустите бота командой:
```bash
python bot.py
```

Теперь ваш бот должен быть доступен в Telegram. Найдите его по имени пользователя и отправьте команду `/start`, чтобы начать взаимодействие.

## Шаг 5: Проверка работоспособности

1. Убедитесь, что бот отвечает на команду `/start`
2. Пройдите процесс онбординга для тестирования
3. Проверьте, что бот корректно рекомендует тарифы

## Устранение неполадок

### Проблема: Бот не отвечает на сообщения
- Проверьте, что токен бота в `.env` указан корректно
- Убедитесь, что бот запущен и в логах нет ошибок
- Проверьте интернет-соединение

### Проблема: Ошибки при анализе ответов через OpenAI
- Убедитесь, что ключ API OpenAI указан корректно
- Проверьте, что у вашего аккаунта OpenAI достаточно токенов
- Убедитесь, что указанная модель (`gpt-4.1-nano`) доступна в вашем аккаунте

### Проблема: Ошибки с базой данных
- Проверьте, что у процесса есть права на запись в директорию с базой данных
- Попробуйте удалить файл базы данных, чтобы он был создан заново (учтите, что все данные будут потеряны)

## Административные команды

- `/admin` - показать статистику (доступно только администраторам)
- `/broadcast <текст>` - отправить сообщение всем пользователям (доступно только администраторам) 